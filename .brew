#!/bin/bash

brew update

# Upgrade any already-installed formulae
brew upgrade

cat .brewtaps | \
while read line; do
	brew tap $line
done

cat .brewcasks | \
while read line; do
	if ! brew ls --versions $line; then
		brew cask install $line
	fi
done

cat .brewfile | \
while read line; do
	if ! brew ls --versions $line; then
		brew install $line
	fi
done

# Remove outdated versions from the cellar
brew cleanup